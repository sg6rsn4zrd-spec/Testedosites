<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LISBOA PRO MASTER</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --bg: #0a111a; --card: #161c2d; --primary: #2a5ee8; --success: #00f298; --danger: #ff4b5c; }
        body { margin: 0; font-family: sans-serif; background: var(--bg); color: #fff; padding-bottom: 50px; }
        
        /* LOGO - USANDO O NOME EXATO DO SEU GITHUB */
        .header { padding: 20px; text-align: center; background: #111827; }
        .header img { max-width: 180px; height: auto; display: block; margin: 0 auto; }

        .container { padding: 15px; max-width: 500px; margin: auto; }
        
        .balance-card { background: #1e2a4a; padding: 25px; border-radius: 24px; text-align: center; margin-bottom: 20px; border: 1px solid #2d3a5a; }
        .balance-val { font-size: 3rem; font-weight: 800; color: var(--success); margin: 5px 0; }
        .sub-vals { display: flex; justify-content: space-between; font-size: 10px; border-top: 1px solid #333; padding-top: 15px; }

        /* GRID DE 12 BOTÕES CONFORME A FOTO 1 */
        .menu-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 25px; }
        .menu-item { background: rgba(255,255,255,0.05); padding: 18px 2px; border-radius: 18px; text-align: center; cursor: pointer; border: 1px solid #333; }
        .menu-item i { font-size: 1.5rem; color: #00d2ff; margin-bottom: 8px; display: block; }
        .menu-item span { font-size: 0.58rem; font-weight: bold; text-transform: uppercase; display: block; }

        .section { display: none; background: var(--card); padding: 20px; border-radius: 20px; animation: fadeIn 0.3s; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        input { width: 100%; padding: 14px; margin: 8px 0; border-radius: 12px; border: 1px solid #333; background: #000; color: #fff; box-sizing: border-box; }
        button { width: 100%; padding: 16px; background: var(--primary); border: none; color: #fff; font-weight: bold; border-radius: 12px; margin-top: 10px; cursor: pointer; }
        .list-item { background: rgba(255,255,255,0.03); padding: 15px; border-radius: 14px; margin-bottom: 10px; display: flex; justify-content: space-between; border-left: 4px solid var(--primary); }
    </style>
</head>
<body>

<div class="header">
    <img src="B1BCC237-7C89-4142-8131-6DA05C2A2C61 2.png" alt="Logo Lisboa">
</div>

<div class="container">
    <div class="balance-card">
        <small>SALDO REAL (LUCRO LIMPO)</small>
        <div class="balance-val" id="val-lucro">R$ 0,00</div>
        <div class="sub-vals">
            <span>M. Obra: <b id="val-mao" style="color:#00d2ff">R$ 0,00</b></span>
            <span>Contas: <b id="val-contas" style="color:var(--danger)">R$ 0,00</b></span>
            <span>Peças: <b id="val-pecas" style="color:var(--primary)">R$ 0,00</b></span>
        </div>
    </div>

    <div class="menu-grid">
        <div class="menu-item" onclick="nav('s1')"><i class="fas fa-chart-line"></i><span>Dash</span></div>
        <div class="menu-item" onclick="nav('s2')"><i class="fas fa-plus"></i><span>Novo</span></div>
        <div class="menu-item" onclick="nav('s3')"><i class="fas fa-receipt"></i><span>Contas</span></div>
        <div class="menu-item" onclick="nav('s4')"><i class="fas fa-search"></i><span>Busca</span></div>
        <div class="menu-item" onclick="nav('s5')"><i class="fas fa-oil-can"></i><span>Óleo</span></div>
        <div class="menu-item" onclick="nav('s6')"><i class="fas fa-box"></i><span>Estoque</span></div>
        <div class="menu-item" onclick="nav('s7')"><i class="fas fa-tags"></i><span>Tabela</span></div>
        <div class="menu-item" onclick="nav('s8')"><i class="fas fa-credit-card"></i><span>Taxas</span></div>
        <div class="menu-item" onclick="nav('s9')"><i class="fas fa-calendar-alt"></i><span>Agenda</span></div>
        <div class="menu-item" onclick="nav('s10')"><i class="fas fa-shopping-cart"></i><span>Compras</span></div>
        <div class="menu-item" onclick="nav('s11')"><i class="fas fa-clipboard-list"></i><span>Check</span></div>
        <div class="menu-item" onclick="nav('s12')"><i class="fas fa-robot"></i><span>I.A</span></div>
    </div>

    <div id="s1" class="section active">
        <h3>Resumo Financeiro</h3>
        <canvas id="chart"></canvas>
    </div>

    <div id="s2" class="section">
        <h3>Novo Serviço</h3>
        <input id="sN" placeholder="Nome do Cliente">
        <input id="sM" type="number" placeholder="Mão de Obra R$">
        <button onclick="addServ()">Salvar Serviço</button>
    </div>

    <div id="s3" class="section">
        <h3>Lançar Conta</h3>
        <input id="cN" placeholder="Descrição da Conta">
        <input id="cV" type="number" placeholder="Valor R$">
        <button onclick="addConta()">Pagar Conta</button>
        <div id="l-contas" style="margin-top:15px"></div>
    </div>

    <div id="s4" class="section"><h3>Histórico</h3><div id="l-hist"></div></div>
    <div id="s6" class="section"><h3>Estoque</h3><input id="eN" placeholder="Peça"><button onclick="addE()">Add</button><div id="l-e"></div></div>
</div>

<script>
    let db = JSON.parse(localStorage.getItem('lisboa_oficial')) || { servicos:[], despesas:[], estoque:[] };
    let chart;

    function nav(id) { 
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active')); 
        document.getElementById(id).classList.add('active'); 
    }

    function save() { localStorage.setItem('lisboa_oficial', JSON.stringify(db)); render(); }

    function addServ() {
        let n = document.getElementById('sN').value;
        let m = parseFloat(document.getElementById('sM').value) || 0;
        if(n) { db.servicos.unshift({n, m}); save(); nav('s1'); }
    }

    function addConta() {
        let n = document.getElementById('cN').value;
        let v = parseFloat(document.getElementById('cV').value) || 0;
        if(n) { db.despesas.unshift({n, v}); save(); }
    }

    function render() {
        let m = db.servicos.reduce((a,b)=>a+b.m, 0);
        let c = db.despesas.reduce((a,b)=>a+b.v, 0);
        
        document.getElementById('val-lucro').innerText = "R$ " + (m-c).toFixed(2);
        document.getElementById('val-mao').innerText = "R$ " + m.toFixed(2);
        document.getElementById('val-contas').innerText = "R$ " + c.toFixed(2);

        document.getElementById('l-contas').innerHTML = db.despesas.map(x => `<div class="list-item"><span>${x.n}</span><b>R$ ${x.v.toFixed(2)}</b></div>`).join('');
        
        const ctx = document.getElementById('chart').getContext('2d');
        if(chart) chart.destroy();
        chart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Lucro', 'Contas'],
                datasets: [{ data: [m-c, c], backgroundColor: ['#00f298', '#ff4b5c'], borderWidth: 0 }]
            },
            options: { cutout: '80%', plugins: { legend: { position: 'bottom', labels: { color: '#fff', font: { size: 10 } } } } }
        });
    }

    render();
</script>
</body>
</html>
